
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.6">
    
    
      
        <title>Project file syntax - PDM - Python Development Master</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#project-file-syntax" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="PDM - Python Development Master" class="md-header-nav__button md-logo" aria-label="PDM - Python Development Master">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            PDM - Python Development Master
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Project file syntax
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/frostming/pdm/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="PDM - Python Development Master" class="md-nav__button md-logo" aria-label="PDM - Python Development Master">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    PDM - Python Development Master
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/frostming/pdm/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dependency/" class="md-nav__link">
        Manage dependencies
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../project/" class="md-nav__link">
        Manage project
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Project file syntax
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Project file syntax
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-metadata" class="md-nav__link">
    Project metadata
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#determine-the-package-version-dynamically" class="md-nav__link">
    Determine the package version dynamically
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-and-exclude-pacakge-files" class="md-nav__link">
    Include and exclude pacakge files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-another-package-directory-to-look-for-packages" class="md-nav__link">
    Select another package directory to look for packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implicit-namespace-packages" class="md-nav__link">
    Implicit namespace packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependency-specification" class="md-nav__link">
    Dependency specification
  </a>
  
    <nav class="md-nav" aria-label="Dependency specification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#editable-requirement" class="md-nav__link">
    Editable requirement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-dependencies" class="md-nav__link">
    Optional dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development-dependencies" class="md-nav__link">
    Development dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#console-scripts" class="md-nav__link">
    Console scripts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entry-points" class="md-nav__link">
    Entry points
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-c-extensions" class="md-nav__link">
    Build C extensions
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../plugin/" class="md-nav__link">
        Write a plugin
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Change Log
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-metadata" class="md-nav__link">
    Project metadata
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#determine-the-package-version-dynamically" class="md-nav__link">
    Determine the package version dynamically
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-and-exclude-pacakge-files" class="md-nav__link">
    Include and exclude pacakge files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-another-package-directory-to-look-for-packages" class="md-nav__link">
    Select another package directory to look for packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implicit-namespace-packages" class="md-nav__link">
    Implicit namespace packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependency-specification" class="md-nav__link">
    Dependency specification
  </a>
  
    <nav class="md-nav" aria-label="Dependency specification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#editable-requirement" class="md-nav__link">
    Editable requirement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-dependencies" class="md-nav__link">
    Optional dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development-dependencies" class="md-nav__link">
    Development dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#console-scripts" class="md-nav__link">
    Console scripts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entry-points" class="md-nav__link">
    Entry points
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-c-extensions" class="md-nav__link">
    Build C extensions
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/frostming/pdm/edit/master/docs/pyproject.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="project-file-syntax">Project file syntax<a class="headerlink" href="#project-file-syntax" title="Permanent link">#</a></h1>
<h2 id="project-metadata">Project metadata<a class="headerlink" href="#project-metadata" title="Permanent link">#</a></h2>
<p>PDM reads the project's metadata following the standardized format of <a href="https://www.python.org/dev/peps/pep-0621/">PEP 621</a>.
View the PEP for the detailed specification.</p>
<p><em>In the following part of this document, metadata should be written under <code>[project]</code> table if not given explicitly.</em></p>
<h2 id="determine-the-package-version-dynamically">Determine the package version dynamically<a class="headerlink" href="#determine-the-package-version-dynamically" title="Permanent link">#</a></h2>
<p>You can specify a file source for <code>version</code> field like: <code>version = {from = "pdm/__init__.py"}</code>, in this form,
the version will be read from the <code>__version__</code> variable in that file.</p>
<p>PDM can also read version from SCM tags. If you are using git or hg as the version control system, define the
<code>version</code> as follows:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">version</span> <span class="o">=</span> <span class="p">{</span><span class="n">use_scm</span> <span class="o">=</span> <span class="n">true</span><span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>In either case, you MUST also include <code>version</code> in <code>dynamic</code> field, or the backend will raise an error:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">dynamic</span> <span class="o">=</span> <span class="k">[&quot;version&quot;]</span>
</code></pre></div>
</td></tr></table>
<h2 id="include-and-exclude-pacakge-files">Include and exclude pacakge files<a class="headerlink" href="#include-and-exclude-pacakge-files" title="Permanent link">#</a></h2>
<p>The way of specifying include and exclude files are simple, they are given as a list of glob patterns:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">includes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">&quot;**/*.json&quot;</span><span class="p">,</span>
    <span class="s">&quot;mypackage/&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">excludes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">&quot;mypackage/_temp/*&quot;</span>
<span class="p">]</span>
</code></pre></div>
</td></tr></table>
<p>If neither <code>includes</code> or <code>excludes</code> is given, PDM is also smart enough to include top level packages and all data files in them.
Packages can also lie in <code>src</code> directory that PDM can find it.</p>
<h2 id="select-another-package-directory-to-look-for-packages">Select another package directory to look for packages<a class="headerlink" href="#select-another-package-directory-to-look-for-packages" title="Permanent link">#</a></h2>
<p>Similar to <code>setuptools</code>' <code>package_dir</code> setting, one can specify another package directory, such as <code>src</code>, in <code>pyproject.toml</code> easily:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">package-dir</span> <span class="o">=</span> <span class="s">&quot;src&quot;</span>
</code></pre></div>
</td></tr></table>
<p>If no package directory is given, PDM can also recognize <code>src</code> as the <code>package-dir</code> implicitly if:</p>
<ol>
<li><code>src/__init__.py</code> doesn't exist, meaning it is not a valid Python package, and</li>
<li>There exist some packages under <code>src/*</code>.</li>
</ol>
<h2 id="implicit-namespace-packages">Implicit namespace packages<a class="headerlink" href="#implicit-namespace-packages" title="Permanent link">#</a></h2>
<p>As specified in <a href="https://www.python.org/dev/peps/pep-0420">PEP 420</a>, a directory will be recognized as a namespace package if:</p>
<ol>
<li><code>&lt;package&gt;/__init__.py</code> doesn't exist, and</li>
<li>There exist normal packages and/or other namespace packages under <code>&lt;package&gt;/*</code>, and</li>
<li><code>&lt;package&gt;</code> is not specified as <code>package-dir</code></li>
</ol>
<h2 id="dependency-specification">Dependency specification<a class="headerlink" href="#dependency-specification" title="Permanent link">#</a></h2>
<p>The <code>project.dependencies</code> is an array of dependency specification strings following the <a href="https://www.python.org/dev/peps/pep-0440/">PEP 440</a>
and <a href="https://www.python.org/dev/peps/pep-0508/">PEP 508</a>.</p>
<p>Examples:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">dependencies</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Named requirement</span>
    <span class="s">&quot;requests&quot;</span><span class="p">,</span>
    <span class="c1"># Named requirement with version specifier</span>
    <span class="s">&quot;flask &gt;= 1.1.0&quot;</span><span class="p">,</span>
    <span class="c1"># Requirement with environment marker</span>
    <span class="s">&quot;pywin32; sys_platform == &#39;win32&#39;&quot;</span><span class="p">,</span>
    <span class="c1"># URL requirement</span>
    <span class="s">&quot;pip @ https://github.com/pypa/pip.git@20.3.1&quot;</span>
<span class="p">]</span>
</code></pre></div>
</td></tr></table>
<h3 id="editable-requirement">Editable requirement<a class="headerlink" href="#editable-requirement" title="Permanent link">#</a></h3>
<p>Beside of the normal dependency specifications, one can also have some packages installed in editable mode. The editable specification string format
is the same as <a href="https://pip.pypa.io/en/stable/reference/pip_install/#editable-installs">Pip's editable install mode</a>.</p>
<p>Examples:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>dependencies = [
    ...,
    &quot;-e path/to/SomeProject&quot;,
    &quot;-e git+http://repo/my_project.git#egg=SomeProject&quot;
]
</code></pre></div>
</td></tr></table>
<div class="admonition note">
<p class="admonition-title">About editable installation</p>
<p>One can have editable installation and normal installation for the same package. The one that comes at last wins.
However, editable dependencies WON'T be included in the metadata of the built artifacts since they are not valid
PEP 508 strings. They only exist for development purpose.</p>
</div>
<h3 id="optional-dependencies">Optional dependencies<a class="headerlink" href="#optional-dependencies" title="Permanent link">#</a></h3>
<p>You can have some requirements optional, which is similar to <code>setuptools</code>' <code>extras_require</code> parameter.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">[project.optional-dependencies]</span>
<span class="n">socks</span> <span class="o">=</span> <span class="k">[ &#39;PySocks &gt;= 1.5.6, != 1.5.7, &lt; 2&#39; ]</span>
<span class="n">tests</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s">&#39;ddt &gt;= 1.2.2, &lt; 2&#39;</span><span class="p">,</span>
  <span class="s">&#39;pytest &lt; 6&#39;</span><span class="p">,</span>
  <span class="s">&#39;mock &gt;= 1.0.1, &lt; 4; python_version &lt; &quot;3.4&quot;&#39;</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>
</td></tr></table>
<p>To install a group of optional dependencies:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>$ pdm install -s socks
</code></pre></div>
</td></tr></table>
<p><code>-s</code> option can be given multiple times to include more than one groups.</p>
<h3 id="development-dependencies">Development dependencies<a class="headerlink" href="#development-dependencies" title="Permanent link">#</a></h3>
<p>You can have some development only dependencies, which is the same as <code>package.json</code>'s <code>dev-dependencies</code> field:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">[project]</span>

<span class="n">dev-dependencies</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">&quot;pytest&quot;</span><span class="p">,</span>
    <span class="s">&quot;flake8&quot;</span><span class="p">,</span>
    <span class="s">&quot;black&quot;</span>
<span class="p">]</span>
</code></pre></div>
</td></tr></table>
<p>To install all of them:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>$ pdm install -d
</code></pre></div>
</td></tr></table>
<h2 id="console-scripts">Console scripts<a class="headerlink" href="#console-scripts" title="Permanent link">#</a></h2>
<p>The following content:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">[project.scripts]</span>
<span class="n">mycli</span> <span class="o">=</span> <span class="s">&quot;mycli.__main__:main&quot;</span>
</code></pre></div>
</td></tr></table>
<p>will be translated to <code>setuptools</code> style:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">entry_points</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;console_scripts&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;mycli=mycli.__main__:main&#39;</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>Also, <code>[project.gui-scripts]</code> will be translated to <code>gui_scripts</code> entry points group in <code>setuptools</code> style.</p>
<h2 id="entry-points">Entry points<a class="headerlink" href="#entry-points" title="Permanent link">#</a></h2>
<p>Other types of entry points are given by <code>[project.entry-points.&lt;type&gt;]</code> section, with the same
format of <code>[project.scripts]</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">[project.entry-points.pytest11]</span>
<span class="n">myplugin</span> <span class="o">=</span> <span class="s">&quot;mypackage.plugin:pytest_plugin&quot;</span>
</code></pre></div>
</td></tr></table>
<h2 id="build-c-extensions">Build C extensions<a class="headerlink" href="#build-c-extensions" title="Permanent link">#</a></h2>
<p>Currently building C extensions still relies on <code>setuptools</code>. You should write a python script which contains
a function named <code>build</code> and accepts the parameter dictionary of <code>setup()</code> as the only argument.
Update the dictionary with your <code>ext_modules</code> settings in the function.</p>
<p>Here is an example taken from <code>MarkupSafe</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1"># build.py</span>
<span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">Extension</span>

<span class="n">ext_modules</span> <span class="o">=</span> <span class="p">[</span><span class="n">Extension</span><span class="p">(</span><span class="s2">&quot;markupsafe._speedups&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;src/markupsafe/_speedups.c&quot;</span><span class="p">])]</span>

<span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="n">setup_kwargs</span><span class="p">):</span>
    <span class="n">setup_kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">ext_modules</span><span class="o">=</span><span class="n">ext_modules</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>Now, specify the build script path via <code>build</code> in the <code>pyproject.toml</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1"># pyproject.toml</span>
<span class="k">[project]</span>
<span class="n">build</span> <span class="o">=</span> <span class="s">&quot;build.py&quot;</span>
</code></pre></div>
</td></tr></table>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../project/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Manage project
              </div>
            </div>
          </a>
        
        
          <a href="../plugin/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Write a plugin
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019-2020 <a href="https://frostming.com">Frost Ming</a>
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.53cc9318.min.js"></script>
      <script src="../assets/javascripts/bundle.e9c9f54f.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>